#!/usr/bin/env node

var program = require("commander"),
    genicon = require("../index.js"),
    pkgjson = require("../package.json");

// commander options
program
  .version(pkgjson.version)
  .option('-v, --verbose', "verbose actions")
  .option('-a, --android', "generate android icons")
  .option('-i, --ios', "generate iOS icons")
  .option('-f, --firefoxos', "generate FirefoxOS icons")
  .option('-p, --project [path]', 'Cordova(PhoneGap) project path')
  .option('-s, --source [path]', 'original icon file path')
  .parse(process.argv);

// generate icons
genicon.generate({
  project: program.project,
  icon: program.source,
  verbose: program.verbose,
  android: program.android,
  firefoxos: program.firefoxos,
  ios: program.ios
}, function(err) {
  if (err) {
    console.log("\033[31mFail\033[30m generate icon set: " + err);
  } else {
    console.log("\033[32mSuccess\033[30m generate icon set");
  }
});


// vim: ts=2 sw=2 ft=javascript

